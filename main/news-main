
   Copyright (C) 2000 Aladdin Enterprises.  All rights reserved.
   Unauthorized use, copying, and/or distribution prohibited.

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

This file, NEWS-MAN, describes changes in the main component in
reverse chronological order.

Version 1.35_Cyclone (07/08/2001)
======================================
Sun Jul  8 12:00:00 2001 GMT        Henry Stiles    henrys@artifex.com

        * pcl6_watc.mak [1.4]:
        removes watcom makefiles.
        

Wed Jun 27 04:00:00 2001 GMT        Henry Stiles    henrys@artifex.com

        * pcl6_msvc.mak [1.9]:
        PL_SCALER definition was missing from msvc makefile.  Thanks to Dan
        for reporting this problem.
        

Mon Jun 18 00:00:00 2001 GMT        Henry Stiles    henrys@artifex.com

        * pcl6_gcc.mak [1.12]:
        makefile changes for AGFA ufst 4.1.
        
        * pcl6_gcc.mak [1.13]:
        restored default font scaler to artifex font scaler, instead of ufst.
        

Wed May  9 21:00:00 2001 GMT        Stefan Kemper    stefan@artifex.com

        * pcl6_msvc.mak [1.8]:
        Added pdfwrite2 device
        

Fri Apr 27 18:00:00 2001 GMT        Henry Stiles    henrys@artifex.com

        * pcl6_cyg.mak [1.2]:
        Removes cygnus makefile - it is almost the same as gcc file modulo
        threads and X11 stuff.
        

Fri Apr 27 08:00:00 2001 GMT        Henry Stiles    henrys@artifex.com

        * pcl6_msvc.mak [1.7]:
        msvc file messed up on last checkin.
        

Fri Apr 27 07:00:00 2001 GMT        Henry Stiles    henrys@artifex.com

        * pcl6_watc.mak [1.3], pcl6_msvc.mak [1.6], pcl6_gcc.mak [1.11]:
        Code changes for pcl reentrancy and miscellaneous items for the 1.35
        release.  The pcl "view" is now reentrant.  This was accomplished
        without locks.  It is not necessary to lock debugging and diagnostic
        tools.  Contention for these resources is not important, so these were
        left alone.  There are several areas where the graphics library
        initializes global prototypes as part of one time initialization
        (i.e. zlib and lzw), it is not necessary to lock these resource.
        Unique id's are now "unique enough" id's using a combination of cpu
        time and a random number to generate the id, this doesn't require
        global data anymore.  The globals for the allocators are initialized
        once at startup and should be never touched again.  With multiple
        interpreters and multiple allocators it will be necessary for each
        language to have an instance that holds a pointer to the allocator it
        will use, but modifying globals in the graphics library to support
        memory management, the current scheme, is undesirable.  This code does
        not address the globals for accurate screens, pcl does not use them,
        but it should be simple to "make local".  I also missed one global in
        the pjl parser but it is rarely if ever used.  Here's the code logs,
        expect some more changes I am sure I broke something.
        
        pl/pllfont.c, /pl/plfont.c, id changes.
        
        plmain.c, plplatf.c - more subtle initialization of the library and
        platform to support pcl's new memory allocator.
        
        pl/plalloc.c, plalloc.h - updated to redefine the allocator that does
        large allocations on the heap (sometimes locking, retrying and other
        odd activities).  Essentially plalloc.c and plalloc.h reduce all
        memory calls directly to malloc, free or realloc.  The allocator
        maintains no state, so it is as reentrant as the underlying C library
        allocator.
        
        pxl/pxerrors.c, pxl/pxfont.c, pxl/pximage.c,
        pxl/pxgstate.c: writing mode for 2.0 did not properly get intialized.
        pxl/pxsessio.c, pxl/pxtop.c: The pxl font dictionary was unnecessarily
        reinitialized on a per session basis.
        
        pcl/pcsfont.c, pcl/pglabel.c - more id changes.
        
        main/pcl6_gcc.mak - adds async device bmpamono.
        
        main/pcl6_msvc.mak - removes extraneous devices, pdfwrite2.dev is not
        included in the msvc makefile and is only available for gcc users
        right now.  Adds font scaler definition.
        
        main/pcl_watc.mak - adds pdfwrite2.dev - probably should be
        "unincluded" like msvc.mak but not important.
        
        gs/src/gdevbmpa = default finish_copy_device to allow copying a non
        prototyped device. It is unclear why the restriction was added to the
        code but no asyncronous postscript or pcl job will run using the
        default definition of finish_copy_device.
        
        gs/src/gdevdbit.c, gs/src/gdevplnx.c, gs/src/gdevvec.c,
        gs/src/gsalphac.c, gs/src/gscolor.c, gs/src/gscolor1, gs/src/gscrd.c,
        gs/src/gsutil.c, gs/src/gscspace, gs/src/gsfont.c, gs/src/gsht.c,
        gs/src/gsht1.c, src/gshtx.c, gs/src/gsistate.c, gs/src/gslib.c,
        gs/src/gspcolor, /gs/src/gsptype1.c, gs/src/gsropc.c,
        gs/src/gstypes.h, /gs/src/gxacpath.c, gs/src/gxccman.c,
        gs/src/gxcht.c, gs/src/gxclip, src/gxclrect.c, gs/src/gxcpath.c,
        gs/src/gximage.c, gs/src/gximage.c, gs/src/gxpcmap.c, gs/src/gzht.c,
        gs/src/isave.c, gs/src/zcontext.c. - modification to support unique id
        changes.
        
        gs/src/gdevprna.c - comments out code that will not work where the
        client provides its own memory allocator.  This will need to
        reconciled in the future.
        
        gs/src/gsdevice.c - using strcmp with on string without terminating
        NULL
        
        gs/src/gsdparam.c - code doesn't make sense if the parameter
        SeparationColorName is not provided... so removed for now.
        
        gs/src/gshtscr.c - changes declaration to const.  The variables are
        used as if they are constants.  I am not sure why static was used
        instead of private but I did not change that.
        
        gs/src/gsmalloc.c - removes globals gs_alloc_memory_default and
        gs_memory_t_default.
        
        gs/src/gxchar.c - several statics that "look constant" - so now const.
        
        gs/src/gxht.c - adds an id table for storing multiple id's in the
        halftone cache, allocate one id upfront and resize the table as
        necessary.
        
        gs/src/gxipixel.c - removes unnecessary and incorrect optimization to
        strength reduce raster ops.
        
        gs/src/lib.mak - removes gsutil.c initialization from makefile for
        gsutil.c - gosh I wish we wouldn't do this at all I have removed it
        completely from pcl.
        
        gs/src/stdpre.h - adds an integer 64 data type that works with gnuc and
        msvc only for now - triggers an error for other platforms.  Removes
        watcom pragma which generated spurious error messages with gcc.
        

Mon Apr  2 19:00:00 2001 GMT        Henry Stiles    henrys@artifex.com

        * pcl6_gcc.mak [1.10]:
        Adds a temporary pdf device pdfwrite2.dev to be used by pcl so as not
        to interfere with postscript/pdf pdfwrite developments.
        

Mon Apr  2 05:00:00 2001 GMT        Henry Stiles    henrys@artifex.com

        * pcl6_gcc.mak [1.9]:
        adds new feature and device devs to support pdf write (changes from
        stefan@artifex.com).  Removes asynchronous devices and -l for threads
        library.
        

Tue Mar  6 07:00:00 2001 GMT        Henry Stiles    henrys@artifex.com

        * pcl6_gcc.mak [1.8]:
        modifications for new font devices.  Also, temporarily contains
        necessary instructions for building agfa and freetype configurations.
        

Tue Feb  6 08:00:00 2001 GMT        August Daniel Coby    dan@artifex.com

        * pcl6_msvc.mak [1.5]:
        
        Modifications for using gs6.50 with PCL6.
        

Tue Nov 21 22:00:00 2000 GMT        Henry Stiles    henrys@artifex.com

        * pcl6_gcc.mak [1.7]:
        Make variable for standard libraries the which thread library to use
        

Tue Nov 21 21:00:00 2000 GMT        Henry Stiles    henrys@artifex.com

        * pcl6_cyg.mak [1.1]:
        new makefile for Cygnus Windows 1.1.4
        

Wed Nov  1 05:00:00 2000 GMT        Henry Stiles    henrys@artifex.com

        * pcl6_msvc.mak [1.4]:
        More JPEG additions and the same fix as Ray's, I suspect.
        

Tue Oct 31 16:00:00 2000 GMT        Raymond Johnston    ray@artifex.com

        * pcl6_msvc.mak [1.3]:
        Add BAND_LIST_STORAGE and BAND_LIST_COMPRESSOR to topmost make. This should
        have been changed with 1.14 of common/msvc_top.mak but was missed.
        

Mon Oct 30 11:00:00 2000 GMT        Henry Stiles    henrys@artifex.com

        * NEWS-MAIN [1.2]:
        pcl 134 (sleet) alpha release.
        
        * pcl6_watc.mak [1.2], pcl6_msvc.mak [1.2], pcl6_gcc.mak [1.6]:
        Version changes were not complete.
        
Version 1.34_alpha_sleet (10/30/2000)
=====================================

Thu Sep 14 05:00:00 2000 GMT        Henry Stiles    henrys@meerkat

        * pcl6_gcc.mak [1.5]:
        Adds pcxcmyk device.
        

Mon Aug 14 19:00:00 2000 GMT        Henry Stiles    henrys@meerkat

        * pcl6_gcc.mak [1.4]:
        Adds pxlmonon and pxlcolor device.
        

Sun Aug  6 16:00:00 2000 GMT        Raymond Johnston    ray@meerkat

        * pcl6_watc.mak [1.1]:
        Create a make file for building PCL6 using Watcom, fix associated makefiles
        

Thu May 11 22:00:00 2000 GMT        Henry Stiles    henrys@meerkat

        * pcl6_gcc.mak [1.3]:
        The PXL object directory was incorrectly specified and add sdctd.dev
        for XL 2.0 jpeg filter.
        

Wed Apr 26 04:00:00 2000 GMT        Raymond Johnston    ray@meerkat

        * pcl6_msvc.mak [1.1]:
        Makefile for Microsoft Visual c. Tested with version 6.0
        

Sat Apr 22 07:00:00 2000 GMT        Henry Stiles    henrys@meerkat

        * NEWS-MAN [1.1]:
        updated for version 1.33
        

Version 1.33 (04/22/00)
=======================

Wed Mar 15 06:00:00 2000 GMT        Henry Stiles    henrys@artifex.com

        * pcl6_gcc.mak [1.2]:
        adds jpeg and pswrite device.  The pswrite device has not been heavily
        tested with either pxl or pcl.
        

Thu Feb 17 05:00:00 2000 GMT        Henry Stiles    henrys@artifex.com

        * pcl6_gcc.mak [1.1]:
        new makefile for building pcl and pxl as one executable.
        


